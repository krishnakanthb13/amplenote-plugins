<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kanban Board</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background: white;
        }
        #kanban-board {
            display: flex;
            overflow-x: auto;
            gap: 10px;
            padding-bottom: 20px;
        }
        .column {
            flex: 0 0 auto;
            min-width: 300px;
            border: 1px solid #ddd;
            border-radius: 5px;
            background: transparent;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            padding: 10px;
        }
        .task-category {
            margin-bottom: 10px;
            cursor: pointer;
        }
        .task-category h3 {
            margin: 0;
            padding: 10px;
            background: transparent;
            border-radius: 10px;
        }
        .task {
            padding: 5px;
            border-radius: 5px;
            margin-bottom: 5px;
            color: black;
            font-size: 14px;
            position: relative;
            transition: background-color 0.3s;
			max-width: 300px;
        }
        .task-button {
            background-color: transparent;
			border-radius: 5px;
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 14px;
            margin-left: 10px;
			position: absolute;
			right: 5px;
        }
        .task-button:hover {
			background-color: black;
            color: #ddd;
        }
        .task-button2 {
            background-color: transparent;
			border-radius: 5px;
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 14px;
            margin-left: 10px;
			position: absolute;
			right: 20px;
        }
        .task-button2:hover {
			background-color: black;			
            color: #ddd;
        }
        .task-button3 {
            background-color: transparent;
			border-radius: 5px;
            border: none;
            color: #fff;
            cursor: pointer;
            font-size: 14px;
            margin-left: 10px;
        }
        .task-button3:hover {
			background-color: black;			
            color: #ddd;
        }
		.high-urgent.high-important {
			background: linear-gradient(to right, #ff6666, #ff9999); /* Light red to lighter red */
		}

		.high-urgent.low-important {
			background: linear-gradient(to right, #ffb84d, #ffd699); /* Light orange to lighter orange */
		}

		.low-urgent.high-important {
			background: linear-gradient(to right, #66b3ff, #c2e0ff); /* Light blue to lighter blue */
		}

		.low-urgent.low-important {
			background: linear-gradient(to right, #b3b3b3, #e6e6e6); /* Light gray to lighter gray */
		}
        .task-info {
            display: none;
            position: relative;
            top: 100%;
            left: 30;
            background-color: #fff;
            color: #000;
            border: 1px solid #ddd;
            border-radius: 5px;
            padding: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            z-index: 1000;
        }
    </style>
</head>
<body>
    <button id="cycleButton">Toggle Sort: <div id="valueDisplay">None</div></button>
    <br><br>
    <div id="kanban-board"></div>

    <script>
	
        let tasks = 
[
  {
    "content": "asdf",
    "hideUntil": null,
    "important": false,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 1.2,
    "startAt": null,
    "urgent": false,
    "uuid": "59e7f2f0-4315-4573-a0c1-3b4e4fc4fae5",
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> false<br><b>Urgent:</b> false<br><b>Score:</b> 1.20<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - Fixed Schedule",
    "hideUntil": 1726943400,
    "important": true,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 14.999999999999998,
    "startAt": 1727018666,
    "urgent": false,
    "uuid": "5a5f4a4d-3a43-fc44-1bab-d718c79d5727",
    "endAt": 1727019566,
    "repeat": "DTSTART:20240920T205426\nRRULE:FREQ=DAILY",
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "09/22/2024 at 20:54:26",
    "hideUntilz": "09/22/2024 at 00:00:00",
    "endAtz": "09/22/2024 at 21:09:26",
    "repeatz": "=daily <b>Starts At:</b> 09/20/2024 at T2:05:42",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> false<br><b>Score:</b> 15.00<br><hr><b>Start At:</b> 09/22/2024 at 20:54:26<br><b>Hide Until:</b> 09/22/2024 at 00:00:00<br><b>End At:</b> 09/22/2024 at 21:09:26<br><b>Repeat:</b> =daily <b>Starts At:</b> 09/20/2024 at T2:05:42<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - Fixed Schedule",
    "hideUntil": null,
    "important": true,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 14.3,
    "startAt": 1726932266,
    "urgent": false,
    "uuid": "5f4a4d3a-43fc-441b-abd7-18c79d572759",
    "endAt": 1726933166,
    "repeat": "DTSTART:20240920T205426\nRRULE:FREQ=DAILY",
    "completedAt": 1726932676,
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "09/21/2024 at 20:54:26",
    "hideUntilz": "Not Set!",
    "endAtz": "09/21/2024 at 21:09:26",
    "repeatz": "=daily <b>Starts At:</b> 09/20/2024 at T2:05:42",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> false<br><b>Score:</b> 14.30<br><hr><b>Start At:</b> 09/21/2024 at 20:54:26<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> 09/21/2024 at 21:09:26<br><b>Repeat:</b> =daily <b>Starts At:</b> 09/20/2024 at T2:05:42<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - When Tasks is completed - Finished",
    "hideUntil": 1726943400,
    "important": true,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 20,
    "startAt": 1726975800,
    "urgent": true,
    "uuid": "769b992d-e513-7f45-6580-5e505f96cee6",
    "endAt": 1726976700,
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "09/22/2024 at 09:00:00",
    "hideUntilz": "09/22/2024 at 00:00:00",
    "endAtz": "09/22/2024 at 09:15:00",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> true<br><b>Score:</b> 20.00<br><hr><b>Start At:</b> 09/22/2024 at 09:00:00<br><b>Hide Until:</b> 09/22/2024 at 00:00:00<br><b>End At:</b> 09/22/2024 at 09:15:00<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - When Tasks is completed",
    "hideUntil": 1726943400,
    "important": true,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 20,
    "startAt": 1726975800,
    "urgent": true,
    "uuid": "7de08630-eb63-3b48-0f8c-e3a2f645de99",
    "endAt": 1726976700,
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "09/22/2024 at 09:00:00",
    "hideUntilz": "09/22/2024 at 00:00:00",
    "endAtz": "09/22/2024 at 09:15:00",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> true<br><b>Score:</b> 20.00<br><hr><b>Start At:</b> 09/22/2024 at 09:00:00<br><b>Hide Until:</b> 09/22/2024 at 00:00:00<br><b>End At:</b> 09/22/2024 at 09:15:00<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - When Tasks is completed - Finished",
    "hideUntil": 1726857000,
    "important": true,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 18.3,
    "startAt": 1726889400,
    "urgent": true,
    "uuid": "9b992de5-137f-4565-805e-505f96cee675",
    "endAt": 1726890300,
    "completedAt": 1726932681,
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "09/21/2024 at 09:00:00",
    "hideUntilz": "09/21/2024 at 00:00:00",
    "endAtz": "09/21/2024 at 09:15:00",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> true<br><b>Score:</b> 18.30<br><hr><b>Start At:</b> 09/21/2024 at 09:00:00<br><b>Hide Until:</b> 09/21/2024 at 00:00:00<br><b>End At:</b> 09/21/2024 at 09:15:00<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task",
    "hideUntil": null,
    "important": false,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 1.1,
    "startAt": null,
    "urgent": false,
    "uuid": "bbb1c3e5-06e9-4f2f-8178-109fac811529",
    "completedAt": 1726932679,
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> false<br><b>Urgent:</b> false<br><b>Score:</b> 1.10<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - When Tasks is completed",
    "hideUntil": null,
    "important": true,
    "noteUUID": "84881f96-782e-11ef-8173-f222b153c6e3",
    "score": 8.3,
    "startAt": null,
    "urgent": true,
    "uuid": "e08630eb-633b-480f-8ce3-a2f645de997c",
    "completedAt": 1726932680,
    "notename": "Inprogress",
    "noteurl": "https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> true<br><b>Score:</b> 8.30<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/84881f96-782e-11ef-8173-f222b153c6e3\" target=\"_blank\">Inprogress</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "completed",
    "hideUntil": null,
    "important": false,
    "noteUUID": "0a3cb378-775c-11ef-89b8-eeba9115991d",
    "score": 1.1,
    "startAt": null,
    "urgent": false,
    "uuid": "2eaab04d-2868-4d24-be9f-94c8a008c8d3",
    "notename": "Completed",
    "noteurl": "https://www.amplenote.com/notes/0a3cb378-775c-11ef-89b8-eeba9115991d",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> false<br><b>Urgent:</b> false<br><b>Score:</b> 1.10<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a3cb378-775c-11ef-89b8-eeba9115991d\" target=\"_blank\">Completed</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - Fixed Schedule",
    "hideUntil": null,
    "important": true,
    "noteUUID": "0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "score": 14.999999999999998,
    "startAt": 1726932266,
    "urgent": false,
    "uuid": "13cd6120-d57a-4761-8520-d556ec7358ed",
    "endAt": 1726933166,
    "repeat": "DTSTART:20240920T205426\nRRULE:FREQ=DAILY",
    "notename": "Review",
    "noteurl": "https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "09/21/2024 at 20:54:26",
    "hideUntilz": "Not Set!",
    "endAtz": "09/21/2024 at 21:09:26",
    "repeatz": "=daily <b>Starts At:</b> 09/20/2024 at T2:05:42",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> false<br><b>Score:</b> 15.00<br><hr><b>Start At:</b> 09/21/2024 at 20:54:26<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> 09/21/2024 at 21:09:26<br><b>Repeat:</b> =daily <b>Starts At:</b> 09/20/2024 at T2:05:42<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3\" target=\"_blank\">Review</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - When Tasks is completed",
    "hideUntil": null,
    "important": true,
    "noteUUID": "0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "score": 10,
    "startAt": null,
    "urgent": true,
    "uuid": "3365680f-f67a-4c8b-84a1-2c5dc8988c87",
    "notename": "Review",
    "noteurl": "https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> true<br><b>Score:</b> 10.00<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3\" target=\"_blank\">Review</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task",
    "hideUntil": null,
    "important": false,
    "noteUUID": "0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "score": 1.2,
    "startAt": null,
    "urgent": false,
    "uuid": "4a784a37-2b1e-41f2-98cb-b290c41eaeca",
    "notename": "Review",
    "noteurl": "https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> false<br><b>Urgent:</b> false<br><b>Score:</b> 1.20<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3\" target=\"_blank\">Review</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "review dismissed task ",
    "hideUntil": null,
    "important": false,
    "noteUUID": "0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "score": 0.5,
    "startAt": null,
    "urgent": false,
    "uuid": "5b34bf69-50d7-484b-8c26-d7745e9ba398",
    "dismissedAt": 1726844327,
    "notename": "Review",
    "noteurl": "https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> false<br><b>Urgent:</b> false<br><b>Score:</b> 0.50<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3\" target=\"_blank\">Review</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - When Tasks is completed - Finished",
    "hideUntil": null,
    "important": true,
    "noteUUID": "0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "score": 6.6,
    "startAt": null,
    "urgent": true,
    "uuid": "9b62ad1a-9a51-4d13-8206-0d9188892ace",
    "completedAt": 1726845969,
    "notename": "Review",
    "noteurl": "https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> true<br><b>Score:</b> 6.60<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3\" target=\"_blank\">Review</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review task - When Tasks is completed - Finished",
    "hideUntil": 1726857000,
    "important": true,
    "noteUUID": "0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "score": 20,
    "startAt": 1726889400,
    "urgent": true,
    "uuid": "cf9b62ad-1a9a-514d-1382-060d9188892a",
    "endAt": 1726890300,
    "notename": "Review",
    "noteurl": "https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "09/21/2024 at 09:00:00",
    "hideUntilz": "09/21/2024 at 00:00:00",
    "endAtz": "09/21/2024 at 09:15:00",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> true<br><b>Urgent:</b> true<br><b>Score:</b> 20.00<br><hr><b>Start At:</b> 09/21/2024 at 09:00:00<br><b>Hide Until:</b> 09/21/2024 at 00:00:00<br><b>End At:</b> 09/21/2024 at 09:15:00<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3\" target=\"_blank\">Review</a><br><b>Tags:</b> -reports/-kanban"
  },
  {
    "content": "Review completed task",
    "hideUntil": null,
    "important": false,
    "noteUUID": "0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "score": 1,
    "startAt": null,
    "urgent": false,
    "uuid": "e9e8a7ff-1ce8-40be-92c3-9f1a875437a2",
    "completedAt": 1726844322,
    "notename": "Review",
    "noteurl": "https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3",
    "tags": "-reports/-kanban",
    "startAtz": "Not Set!",
    "hideUntilz": "Not Set!",
    "endAtz": "Not Set!",
    "repeatz": "Not Available",
    "taskInfo": "<b>Important:</b> false<br><b>Urgent:</b> false<br><b>Score:</b> 1.00<br><hr><b>Start At:</b> Not Set!<br><b>Hide Until:</b> Not Set!<br><b>End At:</b> Not Set!<br><b>Repeat:</b> Not Available<br><hr><b>Note Link:</b> <a href=\"https://www.amplenote.com/notes/0a0496aa-775c-11ef-bfb2-f222b153c6e3\" target=\"_blank\">Review</a><br><b>Tags:</b> -reports/-kanban"
  }
]
;

try {
    /**
     * Determines the CSS class based on the task's urgency and importance.
     * 
     * @param {Object} task - The task object containing urgency and importance flags.
     * @returns {string} CSS class that reflects the urgency and importance level of the task.
     */
    function getColor(task) {
        if (task.urgent && task.important) return 'high-urgent high-important';
        if (task.urgent) return 'high-urgent low-important';
        if (task.important) return 'low-urgent high-important';
        return 'low-urgent low-important';
    }

    const values = ['Start Date', 'Score', 'Important', 'Urgent'];
    let currentIndex = 0;
    const valueDisplay = document.getElementById('valueDisplay');
    const cycleButton = document.getElementById('cycleButton');

    /**
     * Cycles through sorting values (Start Date, Score, Important, Urgent),
     * updates the display, and re-renders the Kanban board.
     */
    function updateValue() {
        valueDisplay.textContent = values[currentIndex];
        currentIndex = (currentIndex + 1) % values.length;
        renderKanbanBoard();
        window.callAmplenotePlugin("togglesort");
    }

    cycleButton.addEventListener('click', updateValue);

    /**
     * Displays detailed task information when hovering over a task.
     * 
     * @param {Object} task - The task object containing detailed information.
     * @param {HTMLElement} element - The DOM element representing the task.
     */
    function showTaskInfo(task, element) {
        let infoDiv = element.querySelector('.task-info');
        if (!infoDiv) {
            infoDiv = document.createElement('div');
            infoDiv.className = 'task-info' + (document.body.classList.contains('dark-mode') ? ' dark-mode' : '');
            infoDiv.innerHTML = task.taskInfo;
            element.appendChild(infoDiv);
        }
        infoDiv.style.display = 'block';
    }

    /**
     * Hides the task information when the mouse leaves the task element.
     * 
     * @param {HTMLElement} element - The DOM element representing the task.
     */
    function hideTaskInfo(element) {
        const infoDiv = element.querySelector('.task-info');
        if (infoDiv) {
            infoDiv.style.display = 'none';
        }
    }

    /**
     * Helper function to create a button for task items.
     * 
     * @param {string} text - The text content of the button.
     * @param {string} className - The CSS class to be applied to the button.
     * @param {function} clickHandler - The function to handle click events.
     * @returns {HTMLElement} The created button element.
     */
    function createButton(text, className, clickHandler) {
        const button = document.createElement('button');
        button.textContent = text;
        button.className = className;
        button.onclick = clickHandler;
        return button;
    }

    /**
     * Creates and appends a task item to the specified container.
     * 
     * @param {Object} task - The task object to be displayed.
     * @param {HTMLElement} container - The DOM element representing the task list (pending, completed, or dismissed).
     * @param {boolean} isPending - Whether the task is in the pending state (default is true).
     */
    function createTaskItem(task, container, isPending = true) {
        const taskItem = document.createElement('div');
        taskItem.className = 'task ' + getColor(task);
        taskItem.textContent = task.content;

        taskItem.appendChild(createButton('ℹ', 'task-button', () => showTaskInfo(task, taskItem)));

        if (isPending) {
            taskItem.appendChild(createButton('⚙', 'task-button2', () => window.callAmplenotePlugin("taskEdit", task.uuid)));
        }

        taskItem.onmouseleave = () => hideTaskInfo(taskItem);

        container.appendChild(taskItem);
    }

    /**
     * Sorts tasks based on the specified sorting criterion (Start Date, Score, Important, Urgent).
     * 
     * @param {Array} tasks - The array of tasks to be sorted.
     * @param {string} sortBy - The criterion to sort the tasks by.
     * @returns {Array} The sorted array of tasks.
     */
    function sortTasks(tasks, sortBy) {
        switch (sortBy) {
            case 'Start Date':
                return tasks.sort((a, b) => new Date(b.startAtz) - new Date(a.startAtz));
            case 'Score':
                return tasks.sort((a, b) => b.score - a.score);
            case 'Important':
                return tasks.sort((a, b) => (b.important ? 1 : 0) - (a.important ? 1 : 0));
            case 'Urgent':
                return tasks.sort((a, b) => (b.urgent ? 1 : 0) - (a.urgent ? 1 : 0));
            default:
                return tasks;
        }
    }

    /**
     * Renders the Kanban board by creating columns for each note and sorting tasks into pending, completed, and dismissed.
     */
    function renderKanbanBoard() {
        const board = document.getElementById('kanban-board');
        const columns = {};

        tasks.forEach(task => {
            const note = task.notename;
            if (!columns[note]) {
                columns[note] = { pending: [], completed: [], dismissed: [] };
            }

            if (task.completedAt) {
                columns[note].completed.push(task);
            } else if (task.dismissedAt) {
                columns[note].dismissed.push(task);
            } else {
                columns[note].pending.push(task);
            }
        });

        board.innerHTML = '';  // Clear board before rendering

		Object.keys(columns).forEach(note => {
			const column = document.createElement('div');
			column.className = 'column';

			// Create the header with note name
			const header = document.createElement('h3');
			header.textContent = note;
			header.className = 'task-category';
			column.appendChild(header);
			header.append(createButton('➕', 'task-button3', () => window.callAmplenotePlugin("createTask", note.noteUUID)));

			// Pending tasks list
			const pendingList = document.createElement('div');
			pendingList.append(document.createTextNode('Pending: '));
			sortTasks(columns[note].pending, valueDisplay.textContent).forEach(task => createTaskItem(task, pendingList));

			// Completed tasks list
			const completedList = document.createElement('div');
			completedList.appendChild(document.createTextNode('Completed:'));
			columns[note].completed.sort((a, b) => new Date(b.completedAt) - new Date(a.completedAt))
				.forEach(task => createTaskItem(task, completedList, false));

			// Dismissed tasks list
			const dismissedList = document.createElement('div');
			dismissedList.appendChild(document.createTextNode('Dismissed:'));
			columns[note].dismissed.sort((a, b) => new Date(b.dismissedAt) - new Date(a.dismissedAt))
				.forEach(task => createTaskItem(task, dismissedList, false));

			// Append lists to the column
			column.appendChild(pendingList);
			column.appendChild(completedList);
			column.appendChild(dismissedList);

			// Append the column to the board
			board.appendChild(column);
		});

    }

    renderKanbanBoard();

} catch (error) {
    console.error("Error processing scripts:", error);
}

    </script>
</body>
</html>